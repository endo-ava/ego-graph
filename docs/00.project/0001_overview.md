# プロジェクト概要

## 1. EgoGraphとは

**EgoGraph**は、個人のあらゆるデジタル活動ログ（ライフログ）を統合し、プライバシーを最優先にした「デジタル分身」を構築するプロジェクトです。
音楽再生履歴、購買記録、Web閲覧履歴、日記など、散在する個人のデジタルフットプリントを一箇所に集約し、AIエージェントを通じて過去の自分と対話・分析できる基盤を提供します。

---

## 2. プロジェクトの目的

### 2.1 ビジョン

**「自分自身のデジタル分身を構築し、過去の自分と対話・分析できる未来を創る」**

私たちは、自分のデータは自分で所有し、コントロールすべきだと考えます。
クラウドサービスに分散したデータを手元に取り戻し、AIの力を使って「自分を知る」ためのツールを作ります。

### 2.2 解決する課題

| 課題             | EgoGraphによる解決                                                       |
| ---------------- | ------------------------------------------------------------------------ |
| **データの散在** | Spotify, Amazon, 銀行などのデータを単一のデータウェアハウスに統合        |
| **検索の限界**   | 「回数」「合計」などの正確な事実検索と、あいまいな意味検索の両立         |
| **プライバシー** | データを外部サーバーではなく、ユーザー自身の管理下（R2/ローカル）で運用  |
| **コンテキスト** | 単なるログの羅列ではなく、AIによる「要約」を生成して文脈を保存           |

---

## 3. 基本方針 (Design Philosophy)

### 3.1 "My Data" First Architecture

インフラコストや外部サービスの制約に縛られないよう、**サーバーレスかつローカルファースト**なアーキテクチャを採用します。
事実データ（ログ）は **Parquetファイル** として Cloudflare R2 に管理され、ポータビリティを確保します。

### 3.2 Hybrid Intelligence (Facts + Meaning)

「正確な事実」と「あいまいな意味」の両方を扱えるよう、適材適所のエンジンを組み合わせます。

| エンジン     | 役割               | 技術       | 例                                   |
| ------------ | ------------------ | ---------- | ------------------------------------ |
| **Analytics** | 事実の集計・台帳管理 | DuckDB     | 「去年一番聴いたアルバムは？」       |
| **Semantic**  | 意味の検索         | Qdrant     | 「悲しい時に聴いた曲は？」           |

これらを **Agent** が統合してユーザーに届けます。

---

## 4. システム構成

### 4.1 モノレポ構成

Python (uv workspace) + Kotlin Multiplatform のモノレポ構成です。

```text
ego-graph/
├── ingest/                # データ収集ワーカー（uv workspace メンバー）
├── backend/               # Agent API（uv workspace メンバー）
├── gateway/               # Terminal Gateway（uv workspace メンバー）
├── frontend/              # KMP Android アプリ（Gradle）
├── docs/                  # プロジェクトドキュメント
├── maestro/               # E2E テスト（Maestro）
├── .github/workflows/     # CI/CD ワークフロー
├── pyproject.toml         # Python workspace 設定
└── uv.lock                # Python 依存関係ロック
```
